{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"moment\"","webpack:///./public/js/lib/common/login.js","webpack:///./public/js/lib/config/index.js","webpack:///external \"$\"","webpack:///./public/js/history.js","webpack:///./public/js/utils.js","webpack:///./public/js/locale.js","webpack:///./public/css/site.css?cc32","webpack:///./public/js/cover.js","webpack:///./public/css/cover.css?f654"],"names":["setloginStateChangeEvent","resetCheckAuth","setLoginState","checkLoginStateChanged","getLoginState","getUserId","clearLoginState","checkIfAuth","checkAuth","profile","lastLoginState","lastUserId","loginStateChangeEvent","func","bool","id","Cookies","set","expires","sameSite","window","cookiePolicy","secure","location","protocol","remove","setTimeout","state","get","yesCallback","noCallback","cookieLoginState","$","serverurl","done","data","status","fail","always","DROPBOX_APP_KEY","domain","urlpath","debug","port","hostname","noteid","decodeURIComponent","pathname","slice","length","split","noteurl","version","saveHistory","saveStorageHistoryToServer","clearDuplicatedHistory","removeHistory","writeHistory","getHistory","getStorageHistory","parseHistory","parseServerToHistory","parseStorageToHistory","postHistoryToServer","deleteServerHistory","migrateHistoryFromTempCallback","migrateHistoryFromTemp","tempid","temp","olddata","saveHistoryToStorage","JSON","parse","hash","i","indexOf","splice","join","notehistory","saveHistoryToServer","store","post","history","callback","newnotehistory","found","j","replace","newId","time","moment","newTime","push","text","tags","pinned","title","writeHistoryToStorage","generateHistory","Array","isArray","Object","prototype","toString","call","arg","valueOf","info","renderHistory","addHistory","getServerHistory","xhr","error","console","responseText","list","parseToHistory","LZString","decompressFromBase64","err","timestamp","fromNow","format","escapeHTML","s","add","noteId","result","ajax","url","type","checkNoteIdValid","encodeNoteId","decodeNoteId","uuidRegex","match","str","hexStr","Buffer","from","base64url","encode","encodedId","toBuffer","idParts","substr","supportedLanguages","require","lang","userLang","navigator","language","userLanguage","userLangCode","supportedLanguagesList","includes","detectLang","localeSelector","forEach","isoCode","nativeName","append","val","attr","change","reload","locale","options","valueNames","item","page","pagination","outerWindow","historyList","List","pageInit","hide","show","photo","prop","html","name","click","parseHistoryCallback","siblings","removeClass","addClass","e","preventDefault","is","fadeIn","children","slideDown","items","checkHistoryList","sort","sortFunction","a","b","notea","values","noteb","filtertags","l","_values","buildTagsFilter","on","visible","itemEl","elm","find","pin","tagsEl","labels","off","historyCloseClick","historyPinClick","closest","value","clearHistory","deleteId","$this","setInterval","updateItemFromNow","toArray","parseInt","clear","modal","deleteHistory","blob","Blob","bind","files","target","dataTransfer","file","reader","FileReader","onload","mergedata","concat","replaceWith","clone","readAsText","lastTags","select2","filter","lastKeyword","search","slideUp","trigger","parent","href","placeholder","multiple","results","css","unescapeHTML","keyup","fieldLDAP","fieldEmail","fieldOpenID","focus"],"mappings":"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","file":"cover.2a1c9e25d162be4b11a1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t6: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"build/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([639,0,4]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = moment;","/* eslint-env browser, jquery */\n/* global Cookies */\n\nimport { serverurl } from '../config'\n\nlet checkAuth = false\nlet profile = null\nlet lastLoginState = getLoginState()\nlet lastUserId = getUserId()\nlet loginStateChangeEvent = null\n\nexport function setloginStateChangeEvent (func) {\n  loginStateChangeEvent = func\n}\n\nexport function resetCheckAuth () {\n  checkAuth = false\n}\n\nexport function setLoginState (bool, id) {\n  Cookies.set('loginstate', bool, {\n    expires: 365,\n    sameSite: window.cookiePolicy,\n    secure: window.location.protocol === 'https:'\n  })\n  if (id) {\n    Cookies.set('userid', id, {\n      expires: 365,\n      sameSite: window.cookiePolicy,\n      secure: window.location.protocol === 'https:'\n    })\n  } else {\n    Cookies.remove('userid', {\n      sameSite: window.cookiePolicy,\n      secure: window.location.protocol === 'https:'\n    })\n  }\n  lastLoginState = bool\n  lastUserId = id\n  checkLoginStateChanged()\n}\n\nexport function checkLoginStateChanged () {\n  if (getLoginState() !== lastLoginState || getUserId() !== lastUserId) {\n    if (loginStateChangeEvent) setTimeout(loginStateChangeEvent, 100)\n    return true\n  } else {\n    return false\n  }\n}\n\nexport function getLoginState () {\n  const state = Cookies.get('loginstate')\n  return state === 'true' || state === true\n}\n\nexport function getUserId () {\n  return Cookies.get('userid')\n}\n\nexport function clearLoginState () {\n  Cookies.remove('loginstate')\n}\n\nexport function checkIfAuth (yesCallback, noCallback) {\n  const cookieLoginState = getLoginState()\n  if (checkLoginStateChanged()) checkAuth = false\n  if (!checkAuth || typeof cookieLoginState === 'undefined') {\n    $.get(`${serverurl}/me`)\n      .done(data => {\n        if (data && data.status === 'ok') {\n          profile = data\n          yesCallback(profile)\n          setLoginState(true, data.id)\n        } else {\n          noCallback()\n          setLoginState(false)\n        }\n      })\n      .fail(() => {\n        noCallback()\n      })\n      .always(() => {\n        checkAuth = true\n      })\n  } else if (cookieLoginState) {\n    yesCallback(profile)\n  } else {\n    noCallback()\n  }\n}\n\nexport default {\n  checkAuth,\n  profile,\n  lastLoginState,\n  lastUserId,\n  loginStateChangeEvent\n}\n","export const DROPBOX_APP_KEY = window.DROPBOX_APP_KEY || ''\n\nexport const domain = window.domain || '' // domain name\nexport const urlpath = window.urlpath || '' // sub url path, like: www.example.com/<urlpath>\nexport const debug = window.debug || false\n\nexport const port = window.location.port\nexport const serverurl = `${window.location.protocol}//${domain || window.location.hostname}${port ? ':' + port : ''}${urlpath ? '/' + urlpath : ''}`\nwindow.serverurl = serverurl\nexport const noteid = decodeURIComponent(urlpath ? window.location.pathname.slice(urlpath.length + 1, window.location.pathname.length).split('/')[1] : window.location.pathname.split('/')[1])\nexport const noteurl = `${serverurl}/${noteid}`\n\nexport const version = window.version\n","module.exports = $;","/* eslint-env browser, jquery */\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"debug\"] }] */\n/* global serverurl, moment */\n\nimport store from 'store'\nimport S from 'string'\nimport LZString from 'lz-string'\nimport url from 'wurl'\n\nimport {\n  checkNoteIdValid,\n  encodeNoteId\n} from './utils'\n\nimport {\n  checkIfAuth\n} from './lib/common/login'\n\nimport {\n  urlpath\n} from './lib/config'\n\nwindow.migrateHistoryFromTempCallback = null\n\nmigrateHistoryFromTemp()\n\nfunction migrateHistoryFromTemp () {\n  if (url('#tempid')) {\n    $.get(`${serverurl}/temp`, {\n      tempid: url('#tempid')\n    })\n      .done(data => {\n        if (data && data.temp) {\n          getStorageHistory(olddata => {\n            if (!olddata || olddata.length === 0) {\n              saveHistoryToStorage(JSON.parse(data.temp))\n            }\n          })\n        }\n      })\n      .always(() => {\n        let hash = location.hash.split('#')[1]\n        hash = hash.split('&')\n        for (let i = 0; i < hash.length; i++) {\n          if (hash[i].indexOf('tempid') === 0) {\n            hash.splice(i, 1)\n            i--\n          }\n        }\n        hash = hash.join('&')\n        location.hash = hash\n        if (window.migrateHistoryFromTempCallback) { window.migrateHistoryFromTempCallback() }\n      })\n  }\n}\n\nexport function saveHistory (notehistory) {\n  checkIfAuth(\n    () => {\n      saveHistoryToServer(notehistory)\n    },\n    () => {\n      saveHistoryToStorage(notehistory)\n    }\n  )\n}\n\nfunction saveHistoryToStorage (notehistory) {\n  store.set('notehistory', JSON.stringify(notehistory))\n}\n\nfunction saveHistoryToServer (notehistory) {\n  $.post(`${serverurl}/history`, {\n    history: JSON.stringify(notehistory)\n  })\n}\n\nexport function saveStorageHistoryToServer (callback) {\n  const data = store.get('notehistory')\n  if (data) {\n    $.post(`${serverurl}/history`, {\n      history: data\n    })\n      .done(data => {\n        callback(data)\n      })\n  }\n}\n\nexport function clearDuplicatedHistory (notehistory) {\n  const newnotehistory = []\n  for (let i = 0; i < notehistory.length; i++) {\n    let found = false\n    for (let j = 0; j < newnotehistory.length; j++) {\n      const id = notehistory[i].id.replace(/=+$/, '')\n      const newId = newnotehistory[j].id.replace(/=+$/, '')\n      if (id === newId || notehistory[i].id === newnotehistory[j].id || !notehistory[i].id || !newnotehistory[j].id) {\n        const time = (typeof notehistory[i].time === 'number' ? moment(notehistory[i].time) : moment(notehistory[i].time, 'MMMM Do YYYY, h:mm:ss a'))\n        const newTime = (typeof newnotehistory[i].time === 'number' ? moment(newnotehistory[i].time) : moment(newnotehistory[i].time, 'MMMM Do YYYY, h:mm:ss a'))\n        if (time >= newTime) {\n          newnotehistory[j] = notehistory[i]\n        }\n        found = true\n        break\n      }\n    }\n    if (!found) { newnotehistory.push(notehistory[i]) }\n  }\n  return newnotehistory\n}\n\nfunction addHistory (id, text, time, tags, pinned, notehistory) {\n  // only add when note id exists\n  if (id) {\n    notehistory.push({\n      id,\n      text,\n      time,\n      tags,\n      pinned\n    })\n  }\n  return notehistory\n}\n\nexport function removeHistory (id, notehistory) {\n  for (let i = 0; i < notehistory.length; i++) {\n    if (notehistory[i].id === id) {\n      notehistory.splice(i, 1)\n      i -= 1\n    }\n  }\n  return notehistory\n}\n\n// used for inner\nexport function writeHistory (title, tags) {\n  checkIfAuth(\n    () => {\n      // no need to do this anymore, this will count from server-side\n      // writeHistoryToServer(title, tags);\n    },\n    () => {\n      writeHistoryToStorage(title, tags)\n    }\n  )\n}\n\nfunction writeHistoryToStorage (title, tags) {\n  const data = store.get('notehistory')\n  let notehistory\n  if (data && typeof data === 'string') {\n    notehistory = JSON.parse(data)\n  } else {\n    notehistory = []\n  }\n\n  const newnotehistory = generateHistory(title, tags, notehistory)\n  saveHistoryToStorage(newnotehistory)\n}\n\nif (!Array.isArray) {\n  Array.isArray = arg => Object.prototype.toString.call(arg) === '[object Array]'\n}\n\nfunction renderHistory (title, tags) {\n  // console.debug(tags);\n  const id = urlpath ? location.pathname.slice(urlpath.length + 1, location.pathname.length).split('/')[1] : location.pathname.split('/')[1]\n  return {\n    id,\n    text: title,\n    time: moment().valueOf(),\n    tags\n  }\n}\n\nfunction generateHistory (title, tags, notehistory) {\n  const info = renderHistory(title, tags)\n  // keep any pinned data\n  let pinned = false\n  for (let i = 0; i < notehistory.length; i++) {\n    if (notehistory[i].id === info.id && notehistory[i].pinned) {\n      pinned = true\n      break\n    }\n  }\n  notehistory = removeHistory(info.id, notehistory)\n  notehistory = addHistory(info.id, info.text, info.time, info.tags, pinned, notehistory)\n  notehistory = clearDuplicatedHistory(notehistory)\n  return notehistory\n}\n\n// used for outer\nexport function getHistory (callback) {\n  checkIfAuth(\n    () => {\n      getServerHistory(callback)\n    },\n    () => {\n      getStorageHistory(callback)\n    }\n  )\n}\n\nfunction getServerHistory (callback) {\n  $.get(`${serverurl}/history`)\n    .done(data => {\n      if (data.history) {\n        callback(data.history)\n      }\n    })\n    .fail((xhr, status, error) => {\n      console.error(xhr.responseText)\n    })\n}\n\nexport function getStorageHistory (callback) {\n  let data = store.get('notehistory')\n  if (data) {\n    if (typeof data === 'string') { data = JSON.parse(data) }\n    callback(data)\n  }\n  // eslint-disable-next-line node/no-callback-literal\n  callback([])\n}\n\nexport function parseHistory (list, callback) {\n  checkIfAuth(\n    () => {\n      parseServerToHistory(list, callback)\n    },\n    () => {\n      parseStorageToHistory(list, callback)\n    }\n  )\n}\n\nexport function parseServerToHistory (list, callback) {\n  $.get(`${serverurl}/history`)\n    .done(data => {\n      if (data.history) {\n        parseToHistory(list, data.history, callback)\n      }\n    })\n    .fail((xhr, status, error) => {\n      console.error(xhr.responseText)\n    })\n}\n\nexport function parseStorageToHistory (list, callback) {\n  let data = store.get('notehistory')\n  if (data) {\n    if (typeof data === 'string') { data = JSON.parse(data) }\n    parseToHistory(list, data, callback)\n  }\n  parseToHistory(list, [], callback)\n}\n\nfunction parseToHistory (list, notehistory, callback) {\n  if (!callback) return\n  else if (!list || !notehistory) callback(list, notehistory)\n  else if (notehistory && notehistory.length > 0) {\n    for (let i = 0; i < notehistory.length; i++) {\n      // migrate LZString encoded id to base64url encoded id\n      try {\n        const id = LZString.decompressFromBase64(notehistory[i].id)\n        if (id && checkNoteIdValid(id)) {\n          notehistory[i].id = encodeNoteId(id)\n        }\n      } catch (err) {\n        console.error(err)\n      }\n      // parse time to timestamp and fromNow\n      const timestamp = (typeof notehistory[i].time === 'number' ? moment(notehistory[i].time) : moment(notehistory[i].time, 'MMMM Do YYYY, h:mm:ss a'))\n      notehistory[i].timestamp = timestamp.valueOf()\n      notehistory[i].fromNow = timestamp.fromNow()\n      notehistory[i].time = timestamp.format('llll')\n      // prevent XSS\n      notehistory[i].text = S(notehistory[i].text).escapeHTML().s\n      notehistory[i].tags = (notehistory[i].tags && notehistory[i].tags.length > 0) ? S(notehistory[i].tags).escapeHTML().s.split(',') : []\n      // add to list\n      if (notehistory[i].id && list.get('id', notehistory[i].id).length === 0) { list.add(notehistory[i]) }\n    }\n  }\n  callback(list, notehistory)\n}\n\nexport function postHistoryToServer (noteId, data, callback) {\n  $.post(`${serverurl}/history/${noteId}`, data)\n    .done(result => callback(null, result))\n    .fail((xhr, status, error) => {\n      console.error(xhr.responseText)\n      return callback(error, null)\n    })\n}\n\nexport function deleteServerHistory (noteId, callback) {\n  $.ajax({\n    url: `${serverurl}/history${noteId ? '/' + noteId : ''}`,\n    type: 'DELETE'\n  })\n    .done(result => callback(null, result))\n    .fail((xhr, status, error) => {\n      console.error(xhr.responseText)\n      return callback(error, null)\n    })\n}\n","import base64url from 'base64url'\n\nconst uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i\n\nexport function checkNoteIdValid (id) {\n  const result = id.match(uuidRegex)\n  if (result && result.length === 1) {\n    return true\n  } else {\n    return false\n  }\n}\n\nexport function encodeNoteId (id) {\n  // remove dashes in UUID and encode in url-safe base64\n  const str = id.replace(/-/g, '')\n  const hexStr = Buffer.from(str, 'hex')\n  return base64url.encode(hexStr)\n}\n\nexport function decodeNoteId (encodedId) {\n  // decode from url-safe base64\n  const id = base64url.toBuffer(encodedId).toString('hex')\n  // add dashes between the UUID string parts\n  const idParts = []\n  idParts.push(id.substr(0, 8))\n  idParts.push(id.substr(8, 4))\n  idParts.push(id.substr(12, 4))\n  idParts.push(id.substr(16, 4))\n  idParts.push(id.substr(20, 12))\n  return idParts.join('-')\n}\n","/* eslint-env browser, jquery */\n/* global Cookies */\nconst supportedLanguages = require('../../locales/_supported.json')\n\nfunction detectLang () {\n  if (Cookies.get('locale')) {\n    let lang = Cookies.get('locale')\n    if (lang === 'zh') {\n      lang = 'zh-TW'\n    }\n    return lang\n  }\n  const userLang = navigator.language || navigator.userLanguage\n  const userLangCode = userLang.split('-')[0]\n  const supportedLanguagesList = Object.keys(supportedLanguages)\n  if (supportedLanguagesList.includes(userLangCode)) {\n    return userLangCode\n  } else if (supportedLanguagesList.includes(userLang)) {\n    return userLang\n  }\n  return 'en'\n}\n\nconst lang = detectLang()\nconst localeSelector = $('.ui-locale')\nObject.entries(supportedLanguages).forEach(function ([isoCode, nativeName]) {\n  localeSelector.append(`<option value=\"${isoCode}\">${nativeName}</option>`)\n})\n\n// the following condition is needed as the selector is only available in the intro/history page\nif (localeSelector.length > 0) {\n  localeSelector.val(lang)\n  $('select.ui-locale option[value=\"' + lang + '\"]').attr('selected', 'selected')\n  localeSelector.change(function () {\n    Cookies.set('locale', $(this).val(), {\n      expires: 365,\n      sameSite: window.cookiePolicy,\n      secure: window.location.protocol === 'https:'\n    })\n    window.location.reload()\n  })\n}\n\nwindow.moment.locale(lang)\n","// extracted by mini-css-extract-plugin\nexport {};","/* eslint-env browser, jquery */\n/* global moment, serverurl */\n\nimport {\n  checkIfAuth,\n  clearLoginState,\n  getLoginState,\n  resetCheckAuth,\n  setloginStateChangeEvent\n} from './lib/common/login'\n\nimport {\n  clearDuplicatedHistory,\n  deleteServerHistory,\n  getHistory,\n  getStorageHistory,\n  parseHistory,\n  parseServerToHistory,\n  parseStorageToHistory,\n  postHistoryToServer,\n  removeHistory,\n  saveHistory,\n  saveStorageHistoryToServer\n} from './history'\n\nimport { saveAs } from 'file-saver'\nimport List from 'list.js'\nimport S from 'string'\n\nrequire('./locale')\n\nrequire('../css/cover.css')\nrequire('../css/site.css')\n\nconst options = {\n  valueNames: ['id', 'text', 'timestamp', 'fromNow', 'time', 'tags', 'pinned'],\n  item: `<li class=\"col-xs-12 col-sm-6 col-md-6 col-lg-4\">\n          <span class=\"id\" style=\"display:none;\"></span>\n          <a href=\"#\">\n            <div class=\"item\">\n              <div class=\"ui-history-pin fa fa-thumb-tack fa-fw\"></div>\n              <div class=\"ui-history-close fa fa-close fa-fw\" data-toggle=\"modal\" data-target=\".delete-history-modal\"></div>\n              <div class=\"content\">\n                <h4 class=\"text\"></h4>\n                <p>\n                  <i><i class=\"fa fa-clock-o\"></i> visited </i><i class=\"fromNow\"></i>\n                  <br>\n                  <i class=\"timestamp\" style=\"display:none;\"></i>\n                  <i class=\"time\"></i>\n                </p>\n                <p class=\"tags\"></p>\n              </div>\n            </div>\n          </a>\n        </li>`,\n  page: 18,\n  pagination: [{\n    outerWindow: 1\n  }]\n}\nconst historyList = new List('history', options)\n\nwindow.migrateHistoryFromTempCallback = pageInit\nsetloginStateChangeEvent(pageInit)\n\npageInit()\n\nfunction pageInit () {\n  checkIfAuth(\n    data => {\n      $('.ui-signin').hide()\n      $('.ui-or').hide()\n      $('.ui-welcome').show()\n      if (data.photo) $('.ui-avatar').prop('src', data.photo).show()\n      else $('.ui-avatar').prop('src', '').hide()\n      $('.ui-name').html(data.name)\n      $('.ui-signout').show()\n      $('.ui-history').click()\n      parseServerToHistory(historyList, parseHistoryCallback)\n    },\n    () => {\n      $('.ui-signin').show()\n      $('.ui-or').show()\n      $('.ui-welcome').hide()\n      $('.ui-avatar').prop('src', '').hide()\n      $('.ui-name').html('')\n      $('.ui-signout').hide()\n      parseStorageToHistory(historyList, parseHistoryCallback)\n    }\n  )\n}\n\n$('.masthead-nav li').click(function () {\n  $(this).siblings().removeClass('active')\n  $(this).addClass('active')\n})\n\n// prevent empty link change hash\n$('a[href=\"#\"]').click(function (e) {\n  e.preventDefault()\n})\n\n$('.ui-home').click(function (e) {\n  if (!$('#home').is(':visible')) {\n    $('.section:visible').hide()\n    $('#home').fadeIn()\n  }\n})\n\n$('.ui-history').click(() => {\n  if (!$('#history').is(':visible')) {\n    $('.section:visible').hide()\n    $('#history').fadeIn()\n  }\n})\n\nfunction checkHistoryList () {\n  if ($('#history-list').children().length > 0) {\n    $('.pagination').show()\n    $('.ui-nohistory').hide()\n    $('.ui-import-from-browser').hide()\n  } else if ($('#history-list').children().length === 0) {\n    $('.pagination').hide()\n    $('.ui-nohistory').slideDown()\n    getStorageHistory(data => {\n      if (data && data.length > 0 && getLoginState() && historyList.items.length === 0) {\n        $('.ui-import-from-browser').slideDown()\n      }\n    })\n  }\n}\n\nfunction parseHistoryCallback (list, notehistory) {\n  checkHistoryList()\n  // sort by pinned then timestamp\n  list.sort('', {\n    sortFunction (a, b) {\n      const notea = a.values()\n      const noteb = b.values()\n      if (notea.pinned && !noteb.pinned) {\n        return -1\n      } else if (!notea.pinned && noteb.pinned) {\n        return 1\n      } else {\n        if (notea.timestamp > noteb.timestamp) {\n          return -1\n        } else if (notea.timestamp < noteb.timestamp) {\n          return 1\n        } else {\n          return 0\n        }\n      }\n    }\n  })\n  // parse filter tags\n  const filtertags = []\n  for (let i = 0, l = list.items.length; i < l; i++) {\n    const tags = list.items[i]._values.tags\n    if (tags && tags.length > 0) {\n      for (let j = 0; j < tags.length; j++) {\n        // push info filtertags if not found\n        let found = false\n        if (filtertags.includes(tags[j])) { found = true }\n        if (!found) { filtertags.push(tags[j]) }\n      }\n    }\n  }\n  buildTagsFilter(filtertags)\n}\n\n// update items whenever list updated\nhistoryList.on('updated', e => {\n  for (let i = 0, l = e.items.length; i < l; i++) {\n    const item = e.items[i]\n    if (item.visible()) {\n      const itemEl = $(item.elm)\n      const values = item._values\n      const a = itemEl.find('a')\n      const pin = itemEl.find('.ui-history-pin')\n      const tagsEl = itemEl.find('.tags')\n      // parse link to element a\n      a.attr('href', `${serverurl}/${values.id}`)\n      // parse pinned\n      if (values.pinned) {\n        pin.addClass('active')\n      } else {\n        pin.removeClass('active')\n      }\n      // parse tags\n      const tags = values.tags\n      if (tags && tags.length > 0 && tagsEl.children().length <= 0) {\n        const labels = []\n        for (let j = 0; j < tags.length; j++) {\n          // push into the item label\n          labels.push(`<span class='label label-default'>${tags[j]}</span>`)\n        }\n        tagsEl.html(labels.join(' '))\n      }\n    }\n  }\n  $('.ui-history-close').off('click')\n  $('.ui-history-close').on('click', historyCloseClick)\n  $('.ui-history-pin').off('click')\n  $('.ui-history-pin').on('click', historyPinClick)\n})\n\nfunction historyCloseClick (e) {\n  e.preventDefault()\n  const id = $(this).closest('a').siblings('span').html()\n  const value = historyList.get('id', id)[0]._values\n  $('.ui-delete-history-modal-msg').text('Do you really want to delete below history?')\n  $('.ui-delete-history-modal-item').html(`<i class=\"fa fa-file-text\"></i> ${value.text}<br><i class=\"fa fa-clock-o\"></i> ${value.time}`)\n  clearHistory = false\n  deleteId = id\n}\n\nfunction historyPinClick (e) {\n  e.preventDefault()\n  const $this = $(this)\n  const id = $this.closest('a').siblings('span').html()\n  const item = historyList.get('id', id)[0]\n  const values = item._values\n  let pinned = values.pinned\n  if (!values.pinned) {\n    pinned = true\n    item._values.pinned = true\n  } else {\n    pinned = false\n    item._values.pinned = false\n  }\n  checkIfAuth(() => {\n    postHistoryToServer(id, {\n      pinned\n    }, (err, result) => {\n      if (!err) {\n        if (pinned) { $this.addClass('active') } else { $this.removeClass('active') }\n      }\n    })\n  }, () => {\n    getHistory(notehistory => {\n      for (let i = 0; i < notehistory.length; i++) {\n        if (notehistory[i].id === id) {\n          notehistory[i].pinned = pinned\n          break\n        }\n      }\n      saveHistory(notehistory)\n      if (pinned) { $this.addClass('active') } else { $this.removeClass('active') }\n    })\n  })\n}\n\n// auto update item fromNow every minutes\nsetInterval(updateItemFromNow, 60000)\n\nfunction updateItemFromNow () {\n  const items = $('.item').toArray()\n  for (let i = 0; i < items.length; i++) {\n    const item = $(items[i])\n    const timestamp = parseInt(item.find('.timestamp').text())\n    item.find('.fromNow').text(moment(timestamp).fromNow())\n  }\n}\n\nlet clearHistory = false\nlet deleteId = null\n\nfunction deleteHistory () {\n  checkIfAuth(() => {\n    deleteServerHistory(deleteId, (err, result) => {\n      if (!err) {\n        if (clearHistory) {\n          historyList.clear()\n          checkHistoryList()\n        } else {\n          historyList.remove('id', deleteId)\n          checkHistoryList()\n        }\n      }\n      $('.delete-history-modal').modal('hide')\n      deleteId = null\n      clearHistory = false\n    })\n  }, () => {\n    if (clearHistory) {\n      saveHistory([])\n      historyList.clear()\n      checkHistoryList()\n      deleteId = null\n    } else {\n      if (!deleteId) return\n      getHistory(notehistory => {\n        const newnotehistory = removeHistory(deleteId, notehistory)\n        saveHistory(newnotehistory)\n        historyList.remove('id', deleteId)\n        checkHistoryList()\n        deleteId = null\n      })\n    }\n    $('.delete-history-modal').modal('hide')\n    clearHistory = false\n  })\n}\n\n$('.ui-delete-history-modal-confirm').click(() => {\n  deleteHistory()\n})\n\n$('.ui-import-from-browser').click(() => {\n  saveStorageHistoryToServer(() => {\n    parseStorageToHistory(historyList, parseHistoryCallback)\n  })\n})\n\n$('.ui-save-history').click(() => {\n  getHistory(data => {\n    const history = JSON.stringify(data)\n    const blob = new Blob([history], {\n      type: 'application/json;charset=utf-8'\n    })\n    saveAs(blob, `hedgedoc_history_${moment().format('YYYYMMDDHHmmss')}`, true)\n  })\n})\n\n$('.ui-open-history').bind('change', e => {\n  const files = e.target.files || e.dataTransfer.files\n  const file = files[0]\n  const reader = new FileReader()\n  reader.onload = () => {\n    const notehistory = JSON.parse(reader.result)\n    // console.log(notehistory);\n    if (!reader.result) return\n    getHistory(data => {\n      let mergedata = data.concat(notehistory)\n      mergedata = clearDuplicatedHistory(mergedata)\n      saveHistory(mergedata)\n      parseHistory(historyList, parseHistoryCallback)\n    })\n    $('.ui-open-history').replaceWith($('.ui-open-history').val('').clone(true))\n  }\n  reader.readAsText(file)\n})\n\n$('.ui-clear-history').click(() => {\n  $('.ui-delete-history-modal-msg').text('Do you really want to clear all history?')\n  $('.ui-delete-history-modal-item').html('There is no turning back.')\n  clearHistory = true\n  deleteId = null\n})\n\n$('.ui-refresh-history').click(() => {\n  const lastTags = $('.ui-use-tags').select2('val')\n  $('.ui-use-tags').select2('val', '')\n  historyList.filter()\n  const lastKeyword = $('.search').val()\n  $('.search').val('')\n  historyList.search()\n  $('#history-list').slideUp('fast')\n  $('.pagination').hide()\n\n  resetCheckAuth()\n  historyList.clear()\n  parseHistory(historyList, (list, notehistory) => {\n    parseHistoryCallback(list, notehistory)\n    $('.ui-use-tags').select2('val', lastTags)\n    $('.ui-use-tags').trigger('change')\n    historyList.search(lastKeyword)\n    $('.search').val(lastKeyword)\n    checkHistoryList()\n    $('#history-list').slideDown('fast')\n  })\n})\n\n$('.ui-delete-user-modal-cancel').click(() => {\n  $('.ui-delete-user').parent().removeClass('active')\n})\n\n$('.ui-logout').click(() => {\n  clearLoginState()\n  location.href = `${serverurl}/logout`\n})\n\nlet filtertags = []\n$('.ui-use-tags').select2({\n  placeholder: $('.ui-use-tags').attr('placeholder'),\n  multiple: true,\n  data () {\n    return {\n      results: filtertags\n    }\n  }\n})\n$('.select2-input').css('width', 'inherit')\nbuildTagsFilter([])\n\nfunction buildTagsFilter (tags) {\n  for (let i = 0; i < tags.length; i++) {\n    tags[i] = {\n      id: i,\n      text: S(tags[i]).unescapeHTML().s\n    }\n  }\n  filtertags = tags\n}\n$('.ui-use-tags').on('change', function () {\n  const tags = []\n  const data = $(this).select2('data')\n  for (let i = 0; i < data.length; i++) { tags.push(data[i].text) }\n  if (tags.length > 0) {\n    historyList.filter(item => {\n      const values = item.values()\n      if (!values.tags) return false\n      let found = false\n      for (let i = 0; i < tags.length; i++) {\n        if (values.tags.includes(tags[i])) {\n          found = true\n          break\n        }\n      }\n      return found\n    })\n  } else {\n    historyList.filter()\n  }\n  checkHistoryList()\n})\n\n$('.search').keyup(() => {\n  checkHistoryList()\n})\n\n// focus user field after opening login modal\n$('.signin-modal').on('shown.bs.modal', function () {\n  const fieldLDAP = $('input[name=username]')\n  const fieldEmail = $('input[name=email]')\n  const fieldOpenID = $('input[name=openid_identifier]')\n  if (fieldLDAP.length === 1) {\n    fieldLDAP.focus()\n  } else if (fieldEmail.length === 1) {\n    fieldEmail.focus()\n  } else if (fieldOpenID.length === 1) {\n    fieldOpenID.focus()\n  }\n})\n","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}